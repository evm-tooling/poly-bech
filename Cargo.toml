[package]
name = "poly-bench"
version = "0.1.0"
edition = "2021"
authors = ["Evan McGrane"]
description = "A high-performance multi-language benchmarking framework with custom DSL"
license = "MIT"
repository = "https://github.com/evanmcgrane/poly-bench"
keywords = ["benchmark", "dsl", "performance", "typescript", "go"]
categories = ["development-tools::profiling", "command-line-utilities"]

[dependencies]
# CLI
clap = { version = "4", features = ["derive"] }
tokio = { version = "1", features = ["full"] }

# Parsing (using hand-written lexer/parser instead of nom for simplicity)
# nom = "7"
# nom_locate = "4"

# Go plugin loading
libloading = "0.8"

# Error handling
thiserror = "1"
miette = { version = "7", features = ["fancy"] }

# Output
colored = "2"
tabled = "0.15"
serde = { version = "1", features = ["derive"] }
serde_json = "1"

# Async
async-trait = "0.1"

# Misc
tempfile = "3"
which = "6"
hex = "0.4"
regex = "1"

[dev-dependencies]
pretty_assertions = "1"

[[bin]]
name = "poly-bench"
path = "src/main.rs"

[profile.release]
opt-level = 3
lto = true
codegen-units = 1
