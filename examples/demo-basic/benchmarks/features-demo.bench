use std::charting

suite mixedDemo {
    description: "Compare different algorithmic complexities"
    warmup: 15
    compare: true
    baseline: "go"

    setup go {
        helpers {
            func linearOpgo(data []byte) int64 {
                var sum int64
                for _, b := range data {
                    sum += int64(b)
                }
                return sum
            }

            func logOpgo(data []byte) int64 {
                n := len(data)
                var sum int64
                for i := 1; i < n; i *= 2 {
                    sum += int64(data[i])
                }
                return sum
            }
        }
    }

    setup ts {
        helpers {
            function linearOp(data: Uint8Array): number {
                let sum = 0
                for (let i = 0; i < data.length; i++) {
                    sum += data[i]
                }
                return sum
            }

            function logOp(data: Uint8Array): number {
                let sum = 0
                for (let i = 1; i < data.length; i *= 2) {
                    sum += data[i]
                }
                return sum
            }
        }
    }

fixture d1000 {
        hex: "96e0eb9bfffa604bd143316d118f6c500cddbcced1befa7b8f13dc3196e6725d5eaade9997420187463abfe4ba09dc1bad98b3268d5f6b07e889af3d996bda604314c8c1cc8000c6f7b955f0d9f5190c9b28312032e53c00ea3e0787902e6db90482fad4963051db8a7eb914f5685ddcf35d2412400f53bee113d0f5b920e933342b8b16123d3a8b80cf6975fee2f7d5b56ce03f07e29cc1d95b71a04a25d39be6670a3b2a11e9487bb2bc03c5042932383ea54eabd35e9b64e3b45baf56fb21eb26424d458353d14a0fceaac351499c038dc6ea37391efa271309c1d461086a838d8858ffbd9b5d3945ed2397d6fc3303e75e8c71e7814458abd03f246c6fd8a27433752bcf307388654f49c89c0023b88de8f9c8b34c7f946f7ee31d647d14c47bb58fb7c7b39291eeabaa1f3bc8e109fedb4bb851b564dbae14697912ddd684618da0bd3dadfeb312d26c90d9df752d46aa17277cec710c9bc7c85706c28624cc056282765e5615a67e9dbedb2afa0e7510641db7f1e9d39a5b9aaa1b41ae35e2e105bc6fca9565e6e6cd8a515b8f4b2204654b4886a7ac6f0abb63055c25b0a0aeb03b997666e930729477e71c32e50071d43d2012026cbd6fc8d6d675eb3735f17cd8cb6c6e309909332e615af299217732a28238f089e102ae10b51655a0b1ee447b8a58b6a366cd9c6089410911f55401c4f3ea2641ba8e15b0d75dba47c5ae516f99201b8c7c55586106afaa6f6c516cc99de3681cf6fb978c0795036463931652cbece7abca3cc048205cfa5ed403e360107f7815bce02404f07454f5edcab437f668647fa4834969673349f0e985f04e815ac565b3f83b1a72c3e667d169d3719f49d2c4bc326992b691893853a536e55da8a268caecc21e60350f744753a8f679dd54c105947b82580668b67d58b5d0a7c94855e91521c8d0a3cdf5872437a2059386d5b288db2d82a1a6bd17cbf70c556994200c9abb06ee6bff7162e657ca50493843d9cb2c51dca6813c7010657c9f2138e12d22214538f855d613470138d27aa6b89f063db7e53b8a509ef26abbe5d5633bd642c11b8e15a7e52685dbef38fe8b8c2ea5c0853570bbf7cc884c2e42e2c86dbe91ede4cd07c7a909b8d37d050cf4d848e593928b108a4eff74277842847722bbfd87f32485c87a2f5e3fb3953ed2a64032605c92ebe621025224778058fe233851b0951242559fdc735afe2e31d3c2a183c9e105b2ed997f3cbe72ee4060388f5d90e6ef1a31c08fa7966488883fe4221e0d5bbf622ee70f4fbeee7e52ce644542fd9f1c25162db63ec0ed5ba91348999ebe2dfb79f2add7fab96b0430f3d7e0526d9c017f7f6bf57c9a66723818c8ddf753a632cec569af941cce772475f2d68c99db4a3a049a34a0285bc39104"
    }

    fixture d5000 {
        hex: "a7d00e9fe81dd03243f3891b1f278999b93e3ab7fc18f6c63aef16327b4769ddccdb79f7270e0657e86a19658a23780a7604218786afc05915524b629271ef2e891e6e65b1c90ec8594df6f0c443ff2c1ce632200371e05f529908ecb35b93626e4255424282908b44c88d3084d50e6582b441f76120999dec5a86352abad4651310531d02c4e7fb8d460a82be5e118c6549d8ff35783f0dc9f6c95d1e95150e023547ff7b2022bac419f9f0106937c21e1c641ffd4e529e1dfce1a1329e12a390c97e07ac8490b16689e083f50d9522041004eabb2f9ce1ac5fc3e140edd05e2633cdb216696957a6bf10d6f545d7fed4efc4b53256546990edf6fe1299a18bccedad29be4065abd5cd604cfec7ef67684caef3f776eaa5baaa82e0a59f2587b339c39308e47a61f1e1f53cedb0e17bd7351c7a2a80930ca2fde57fee7d1eb5986c381e009837b6eb2e9aa1f8b493b2553b5f75d2d211290e4f9dacfab28eaacf2afb157ab6cb3cac93db0039521f3179ac660ab71b5939c54310257c278235eee3ca643b6ada82b8f5062b8c69a90bed6c868a66d1621532603042cece79a5842a9840cdf96bc50995c35bd7484f2f68af3bb8e76ff2b1929ee3a64891ed3a1db386f26d8d89919ca8f9b2ecafcf3bdd2f60e1dd68781dd68f1e64ced696887e9beb1828cc1f4831e09b260aabdb09c9f10fba8df26d0ea258e6fe3153acc6a982d2d50d592ca412cfc666e8069403c9f171e14d129f3d2dc1ea6cf49aaf6d219cb294adc2ff2a0dca32094744174aa4636362cf6f85a88cd7528261dc584d0fb56603ef60532ba39816b62a37f3e12b3eb8d4b8f7163068d273fe6aa3185350bbc9b0ee77025ce6e79b2d89de15ace62a52d93acec8eae8c3cfc5396f10b0e3df031472ec686dad6f2b0b17f5abec5814335d9e8e41d154db1f100ff94836839ff5ece52962315f0da7e1b192d6eadd4ee7f0a60d02bf2d318966a3846d63d0302ff251ec6167fbb9acfa8a7417f44afcdb4dd38c441a8bf35f46dacca7d73d434f78f2c0daed08d2c2c1d18d0995d9b2944bebf487ef00c85a26ca77f81d778895824b851c34898ee645138bada38bdec8754d53cafb55d8f63930749a84bf7e6d71c9c26c1b4c0fac0cd3cfd9fa332041c03748eb4c4c1ba67d7286123dbc78bc589ea123e2926cd2a33fc2fe3ff6870bd0ba0a2197da3091b29eecd1c594cb787db97d55cfacabd5650b2c2bc50b84b5609c60dc4a7c01b9af1a0b7d547cde81913d66647506661c463d77494f212d1fbeaa7221d5d596cdc3cd62cabbcf6f0768c7f04273d221417a50a558705b0cbae62c19b9212868306c7210a4abb1ad1f525c567301220f9b40536c60ca153940f0167ae0215398ba1adeb4b0e7e6b46f778c20f4d7db492e61acdde6b5f4cfafd6a1e85cfa8976a30341394a9418872ed688c2a740fbfda7d3170d1b87f11c719397a87367faeb50f37bba817f1f1f77dc5fdc2be64f12881f0116a0d82ab9d0d101b21d2cc72a3dc9e56af9f065cfd9c344d747e3f4dadf8ff54d6ec6f1b0d380636e4647eaf67b9cf486fc08abb37f01a4572facfab8b19b94ac1f2e11fa738db1aa8406b7e319c8163b01bdf9766d8e229d05c33e1dd12f1fec34ed3feb165b3ec71eeaadb130801bbe63b5be823f970e1d74f36ac9c9c99853a2da2d6aa6e7664f8e014de6caf3c1ff512d8156f892e54e7408f8d39e35455a728c03c42f90f4628e642ffc824483197de7b5e343e549fdfa56839e47b885fe320491ff5c5420b81cfa79a084406b8eb3eaa8aacf17e10d3b5c3321640422165b155312f9f5757500dd23b15024f986abf58f1d66a038904486434add1d26b5989460370f18a4d305a9a1cae4ce9109d6bea76aa8820cb0250ac2c411f8ffe0df62c9f33981be7d8c30ba745eb276f73d11f9d5bf06c816fa6409dee2e8ebe612f4b717d1954aea74570e798e02ad6abc768b9ef33aa9b1a23823c2ee16752e4ff26512e1581943633bf542bf147e3a94d06d799a045de711de608d6356510b375e0495e60b68aac3235ff299f30a778d8475949f3c294835dcca3ab3315f767806cdd120167c178dfef961b5672b8d19ef4d8a950398f96c99a5d17251c6fc496e03a712fcdf51acd64bccd5ea7f0a7e8d5bf803ba87bd3da81c3084fb13b57da59477f77e6f73b8270064109bd2c4f27297a7bf72359ef555122b3c24cf75c0b633431830dd463df1a228a49f4d665ab090ad2c616edbc487716e8a7caef8bc87a98564b5dc58170ffda3142714b3f67165ea837250f06523666308ebc42630af4042c2acde14824ceae602c7f8ca489b3059ba3218a20d4c3164c09979c92bb04780b609e976d9294523cfc3224c153e59be1e8e21be1700c2293936d8acf69f70f331aeab201455e84a279c24bd25ba4cc7dfd62e71a9441fb00af954c50ed2bcd6e96486acc853d2a1f7212e9e01f0b8063ab42e0a809bee40b746d12d293359f95373aa6439283e115f42d5daeeeba4cbc86977c02722c66b27f7516076578deb929bf5379b2e06a7c8dd52c788b499d271466acb875fe9aae3145cd1df067a5e9e05b5c5836028313e9f7f0d8bf805a21e7420daf9df3487c077b1a918d040309b95ee4ac8e9001cb01a884cf93eeb38175ffc77d0280f2dbda966064b76c60331b3864d87e9034910a490096cae52027ecec127c1c7b8d0aa31729ab158a9a5c610a52381a182378c301229e3afca113817e6c6d97dd9f1d2650fb0d2060d7c298e2bdca028f04f1ca07d5a0254c78838a691149e6b431e192257d6356ef60f5593004713520d2040ab303ae10158d4e1461eba0ec58c640f1774a74f9c932fe1ff4c73c7d0354e3095cadeb9e1a96deee69892fb5ac8396d4a439ab0911930d080cef2f01df66c5076f9b3b54a1dc8785b14b6cb083480e8f00a51172f52cef989ec592091580efbd9387068b451c942e7cacf6790df00c9dac1fbfb3c6a9ec4378157cb81050ec05d4e0217f99521160e10ab8a6d7d2a3e447ec1313e58bca4efe81d8dcfa27ac234146d26b67e33b54d1d93505766eec54f937cc4dcc78f6cbedcc62c790c27112f1b46568e3014519fbf9535f267729d3b226b3cc7ae659d92e0f3fce7f858bda498baf0448142fac551d20252245794e0f1b677c6d2367c5abf9c5f973496b2bdb3b039f6d45379919fbd8c346125abd7f5d601f44640bf64cc3f5f75d7e7d84cc20aff883cc5c4a10105350c220bc75e2ce308b4f4ff1018e2b67fec82c16adf53b957fe44051e342ada0940d9533e7bfd1145376e9801531ae9b6ea109e0c4291aac800fb9778074d252458c752b603c471479f2941511386a621cd692594ea61866eae4472add4bdc80957e553f19781555c440995fa6d9b069993bf7fe8ce1cb28ea24081a31c83c46fc8d949fc4f0e7d99f4027196aa28f50f81161b8438c88c49c14395d88837fca0d9480215ed62518d4eeb3f5c9cf599c06e247c22bf625b47625e9049ca516073c45e825094e2a91130a44ebb9aa45a4ed000b9d72cda3134761f2147e05a65642de5c1eaee2978e895090f6e855b7b1d55e921525c1fe4d877f52281b10294adc40e8ca956d4c2c12a8c619164c3446198e758366a5c2dac936d4882af33ee5fcbddff8148195bfeaeb4512b97d22c2fa9f989bf432f75799482d98048ff81ff8ffc90342631ce830657dee6455fefd198a1b5dd6d01a39a6b8bdbb7808aac4bcb991e13ee38c12858a15b34a1372717a69f2a7d001c881758b997ad1eb8776afedb54670d03b6bd9edd27c3e3a9f7d8f9723e90b1b634a136ba230b24bd883e01a96ce6ce2af6b3918ff20f622be8657c286d6210ef57116465c9d66c07cf92bcd0e392286d348f3cd2ff8b8e1605b9ee27fab561c5221663c4ef8e150c9e49080d89ce1e3623c9a4a98daa2cd36ea1b3ff7761c38a1fc7d01cbc22c5f8dd349512c37e27343ac362fdd04d59b022ad3edaf47727fa5049d9376ec6bdcdfb1d383cab26cd3a3f88eb9a577abf3205f1c6cbfd3abcdeadbc97fa02cc9e75e2340df3a6e3dd0ccbf2dd0cdd89c19f6ef2f4b3df089e22e769ff0902c44624de00ba83a8777146e898d654cb0d5b98da13c94668d74708747af167138abbfdcd58852f5bca3cc0de510dd95e32ae76d12b856caaa1fe9da0d0979cdb66d0606b0bba0b039061be41ae915cdd9324c54ed01968d3e1ae0668637ccc89c26b7f1bed66b81d0a3de6843b9fdd338b7b4cb7bf229f6b9c3d4f66e6f0fe65edf02bc213775d6c66abdda7483b0856643029804a98ec7d210892cee5c703ceb60d0862299fa4165eae81a7207521c5443bfcb5b22b47e1488272317d7994a71bfa4aa17b1fe13673adacf85dc95cf2f760089aa41bf49960d6eea0343198fed4680c3916ff153220017b44327ab43d1137335c9be55d198801f120950a42ce31ed88eaf9a3b022ad50d653954c32b53abf97e8247a6f83d6f4e237b4aa278744fd0f036ca151f62a4339c408fe3972d0761b8966f9aca3628945f2abbc7f403eee4d6cea0554f5789e53d6b2b072f61e682faa7761598de82ae7116f52b57d3efef451dd3b7f394430b9476a45a9a6ba6903df0a521260f5202f1a112c80c0aceac1a66c7bf9e85c4421ef1730b0c64b523ed6118b39ebae3110b050c26c851cc9592fbbc35d8d015f75ea5579a35dbf0179d237b4eea9a89d2b1c43ce4ae50e81d6ea3571d1739f6141f302a2022d23ed0a7ae80ed8e98a54940228373d840888848be1a1fa9f8cca77eec4925012ed3b744454fedc60616099121a75f425644343e6a0c8d8b277605295d9865b26757a588f23f00067744276798bf338b61e1002c96fc15b95ab54598a5e596e09d40ebeaad95c7807146c37d28c9c9537e20a8a505399194b02a58adb38a2f08356a48d6a8ea887b42d582f12822c82dbe6674319e97e193f457cd0c86e1971843489d20120970176fc8a44140a3a204d40981472e58fe8a4d6210f8e889b3d77d13f472368c1a57c34e0aadefe5ead28d9e33924c0788fc4dd9a90a031ec50a519dab68efab0db632e1773403187610ea679cdea4f6e3a309809b5dfd1053b6cbc1cf6dffb8035a9ab1a52fa1b3fcca3ec8467c9d5fa8ea9d273da8282796f2644257740050e0eafdf0ad7277f9ff7eeab1b5bb0c60456288fc8797cabea982fd5719f6abb6a9dc9811d755e59804ae40d2e95339e235aed0e719710823c149bbf64fe137d02d608e9cb074943d8d2a9bacad3d32aa9e3e6c7f3892d82f1457c5956d730287b390bc636d86662682b7beb00a19bcfe45f4ef70d3042922e2f17374651d93062feab3c83126dd878d3a1eb995defcaa8e92daaf3c8827a78ec2adc88372b210a1223e4d8caf162abe7f1be1160ff699e762f52c663d7bb474fe02885c187b307ab33e3835782b357da9f654145126b03faca84a1fb5c65b1a56a12d4d754a301098ffb5d30f48a03de5faa1eb1fc1a8afe3ac777f4260fcf171847f71046115c95917056e76d3ec5fa992f05fadf68726940152bf86e9b645162586e8aadc82362d6cf63a096e27c1b8910797897955b8da52370e4dd68b2eee8d40fff254dbce4f8987b5d146cbd93f0ec7de489ce0618585ac0d22e27ef7c796d106ba8da8a823df35f105ea39c4e3cf59ba1a31820ce14a51326c140da93ac754d1e9ac9495278000f79ff60e5874a7cc5676475026a4a539d76fc2cd0234a5c52a0a544d670afac5de09dcbd76b106a00a748954bfcfcf783fb3791756f825e6e5021347c70be3d710eae44dbf78d19cb68e18fb7b35080801e98343c5b9354dd0e36a161f51313520c4746e4b258a4ec6153073670877614cb96bf9f66fafd2cd12488fecc32bd8a669839b5409c829b0016f5a35cc28a2c4bfa93c9e252bdd51e235102f70fec091cbdedb4f7136a4eb444394a4e1a3c5a63638da7f2c6a02f87d146a9191fc46e0ebb036a8aee2ed498e51ab7ef226d4f64521db6a07def533c226b7a97c241078aac5097c612a73994d1419de1d8de20121949b022b6a8f428e4133a64f7ded3b7cfc4ae634b7d67ebfc2dac7afdd66f72de09a0e55cf1c8748cea7bed192d84b9ebcdbed56375273a1cd2582bdc47949258ba9e02cc7ea0dcf1461ea6fb97e4d5d24f97c8361cfe37549180e8645d493303da666f904ce6a345a4f6caf3af1a1b7130e46b0dece4e68b919667a0da283922bc0c1bb527ec334f485ff4567fa73ef86857ada376ca878a112709c58df1fe5000c8f33ec751edff8dc97b9c7194d3ee4e47a4077425e6a4e0382907d56c9a892dd16a4d43a5d445d7f2fecb1a329073c21f89f7f8166b9c57d453e23c72a0564ea3a9b996a80eb54813672b567ad0be42cb8e272fe918d29a52499b4823735e3d8af4409fd0c528e0c3a412efcb3dcaa34450693cca1ffcfb1d3ce0da066a32eca2c174ca49dbb3f438b07f92244ca47416a7a262916ead89e7fd42ed9417f9cc5f26c03f1fe11b457221381fee78f200b55fc834e5091475f62084904175ff48d99a9c457f1204c34f81ae822482590b3a9db1fe3ac4dba1a5fb4f2357125c562347fd8a5e1de71abbb777da66789fb1ca2bd53f6fca351ecef0fa45c970fa0da99e886054a6639eaef71a0d862b4f08696a04fed09fe150af4c3d9e6f4677af90ac40b2e0d9a11ee3dd341f347ced4749fc76cb7eb1d459facdc22c3ad3ddf581f3f2db808c0b7c26956da9f725e8036add3aba1d1d3988523ffe85019cfbf5988dee9522e82582a3187b99be6688e729bbea37e9ed20aba97d8445e1461663819e43ad90eff188391f9932f12ce686618f3dbfe27577da03755f67c64b9773ba18a17df00d710bfd7a8a74779cfdc72839bf113aa20e7a4f16e3e9805431e56c87fe0cbd28af04d1baedeafb0ffc6174c7e253e03873f64b1cc76f41d9f069efca2c8eca8ed6ae53137193de7346ae3c740f3a30440c7287f8074943b085355e9f9e2af451bdf3016301348c6e253acfce0e7ba519f37295"
    }


    bench linear1k {
        go: linearOpgo(d1000) 
        ts: linearOp(d1000) 
    }

    bench linear5k {
        go: linearOpgo(d5000) 
        ts: linearOp(d5000) 
    }

    bench log1k {
        go: logOpgo(d1000) 
        ts: logOp(d1000) 
    }

    bench log5k {
        go: logOpgo(d5000) 
        ts: logOp(d5000) 
    }

    after {
        charting.drawPieChart(
            title: "Execution Time Distribution",
            output: "mixed-pie.svg",
            showStats: true
        )

        charting.drawBarChart(
            title: "Mixed Complexity Comparison",
            output: "mixed-bar.svg",
            showGrid: true,
            showMinorGrid: true,
            showVerticalGrid: true,
            yScale: "log"
        )

        charting.drawTable(
            title: "Mixed Operations Summary",
            output: "mixed-table.svg"
        )
    }
}
