---
title: CLI Reference
description: Command-line interface reference for poly-bench
---

<div data-pagefind-weight="10">

poly-bench includes commands for validation, compilation, execution, project setup, dependency management, cache management, formatting, and editor integration.

### Quick Reference

| Command | Description |
|---------|-------------|
| `poly-bench check <file>` | Parse and validate a `.bench` file |
| `poly-bench compile [file]` | Compile-check benchmarks without running |
| `poly-bench cache <stats\|clear\|clean>` | Inspect or manage compile cache/workspace |
| `poly-bench run [file]` | Execute benchmarks |
| `poly-bench codegen <file>` | Generate runtime code without running |
| `poly-bench fmt [files...]` | Format `.bench` files |
| `poly-bench init [name]` | Initialize a new project |
| `poly-bench new <name>` | Create a new benchmark template |
| `poly-bench add` | Add language dependencies |
| `poly-bench add-runtime <RUNTIME>` | Add a runtime (go, ts, rust, python) to the project |
| `poly-bench remove` | Remove language dependencies |
| `poly-bench install` | Install dependencies from `polybench.toml` |
| `poly-bench build` | Build/regenerate runtime environment |
| `poly-bench upgrade` | Upgrade to latest binary |
| `poly-bench lsp` | Start the language server |

</div>

---

### `poly-bench run`

Execute benchmarks from a `.bench` file, or run all files in `benchmarks/` when no file is provided.

<CodeGroup
  tabs={[
    {
      title: "Usage",
      language: "bash",
      code: `poly-bench run [OPTIONS] [FILE]`
    },
  ]}
/>

#### Options

| Option | Description |
|--------|-------------|
| `--lang <LANG>` | Restrict language: `go`, `ts`/`typescript`, `rust`/`rs` |
| `--iterations <N>` | Override iteration count |
| `--report <FORMAT>` | `console` (default), `markdown`, `json` |
| `--output <DIR>` / `-o <DIR>` | Output directory for reports/charts |
| `--go-project <DIR>` | Explicit Go project root (`go.mod`) |
| `--ts-project <DIR>` | Explicit TS project root (`package.json`/`node_modules`) |

#### Example

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench run benchmarks/hash.bench \\
  --lang go \\
  --report json \\
  --output out/`
    },
  ]}
/>

<Aside type="note">
<span>Results are also auto-saved to <code>out/results.json</code> after each run.</span>
</Aside>

---

### `poly-bench check`

Parse and validate a benchmark DSL file.

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench check <FILE> [--show-ast]`
    },
  ]}
/>

---

### `poly-bench compile`

Compile-check benchmarks without running them.

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench compile [FILE] [--lang <LANG>] [--no-cache] [--clear-cache]`
    },
  ]}
/>

#### Options

| Option | Description |
|--------|-------------|
| `--lang <LANG>` | Compile-check only one language (`go`, `ts`, `typescript`, `rust`, `rs`) |
| `--no-cache` | Disable compile-result cache for this run |
| `--clear-cache` | Clear cache before compiling |

<Aside type="tip">
<span>Use <code>compile</code> in CI to catch embedded-language errors before benchmark execution.</span>
</Aside>

---

### `poly-bench cache`

Manage compile cache and workspace state.

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench cache stats
poly-bench cache clear
poly-bench cache clean`
    },
  ]}
/>

#### Subcommands

| Subcommand | Description |
|------------|-------------|
| `stats` | Show cache statistics and workspace size |
| `clear` | Clear compile cache entries |
| `clean` | Clean entire `.polybench/` workspace |

---

### `poly-bench codegen`

Generate code from DSL without running.

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench codegen <FILE> --lang <LANG> --output <DIR>`
    },
  ]}
/>

`LANG` supports `go`, `ts`/`typescript`, `rust`/`rs`.

---

### `poly-bench fmt`

Format benchmark files.

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench fmt [FILES...] [--write]`
    },
  ]}
/>

| Option | Description |
|--------|-------------|
| `--write` / `-w` | Write formatted content back to files (otherwise prints to stdout) |

---

### Project Commands

#### `poly-bench init`

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench init [NAME] [--languages go,ts,rust] [--no-example]`
    },
  ]}
/>

#### `poly-bench new`

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench new <NAME>`
    },
  ]}
/>

#### `poly-bench add`

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench add --go <PKG>
poly-bench add --ts <PKG>
poly-bench add --rs <CRATE> [--features <F1,F2,...>]`
    },
  ]}
/>

#### `poly-bench add-runtime`

Add a runtime (go, ts, rust, python) to an existing project. Creates the runtime config in `polybench.toml` and builds the `.polybench` runtime environment.

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench add-runtime go
poly-bench add-runtime ts
poly-bench add-runtime rust
poly-bench add-runtime python`
    },
  ]}
/>

#### `poly-bench remove`

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench remove --go <PKG>
poly-bench remove --ts <PKG>
poly-bench remove --rs <CRATE>
poly-bench remove --py <PKG>`
    },
  ]}
/>

#### `poly-bench install`

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench install`
    },
  ]}
/>

#### `poly-bench build`

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench build [--force] [--skip-install]`
    },
  ]}
/>

---

### LSP and Upgrade

#### `poly-bench lsp`

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench lsp`
    },
  ]}
/>

#### `poly-bench upgrade`

<CodeGroup
  tabs={[
    {
      title: "terminal",
      language: "bash",
      code: `poly-bench upgrade`
    },
  ]}
/>

---

### Global Options

| Option | Description |
|--------|-------------|
| `--version`, `-V`, `-v` | Print version and exit |
| `--color <WHEN>` | Color mode: `auto`, `always`, `never` |
| `--quiet`, `-q` | Reduce log output |
| `--help`, `-h` | Show help |

---

### Further Reading

- [Getting Started](/docs/getting-started) — Quick start guide
- [DSL Reference](/docs/core/dsl-reference) — Benchmark file syntax
- [LSP / Editor Support](/docs/tools/lsp) — Editor setup
